<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Lord of the Mysteries</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./assets/favicon.png" />
    <meta property="og:title" content="Lord of the Mysteries" />
    <meta property="og:image" content="https://demetri0.github.io/fb2-lord-of-the-mysteries/assets/og-image.jpg" />
    <meta property="og:type" content="book" />
    <meta property="og:description" content="Лучшая редакция новеллы Повелитель Тайн в формате fb2" />
    <meta property="og:locale" content="ru_RU" />
    <meta property="og:image:alt" content="На картинке изображён зал старинного дворца окутанного серым туманом с большими колоннами и бронзовым столом в центре, у стола стоят 22 стула с высокими спинками." />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="demetri0.github.io">
    <meta property="twitter:url" content="https://demetri0.github.io/fb2-lord-of-the-mysteries/">
    <meta name="twitter:title" content="Lord of the Mysteries">
    <meta name="twitter:description" content="Лучшая редакция новеллы Повелитель Тайн в формате fb2">
    <meta name="twitter:image" content="https://demetri0.github.io/fb2-lord-of-the-mysteries/assets/og-image.jpg">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@1,600&display=swap" rel="stylesheet">
    <style>
      :root {
        --foreground-color: rgba(255,255,255, 0.75);
        --divider: rgba(255,255,255, 0.075);
        --border-radius: 3px;

        --progress-total: 1432;

        --progress-color-ready: rgba(205,255,205, 0.35);
        --progress-color-incomplete: rgba(255,255,255, 0.15);
      }
      html, body {
        margin: 0;
        height: 100%;
        color: var(--foreground-color);
        font-family: sans-serif;
        background-color: #242625;
      }
      video {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 0;
        min-width: 100%;
        min-height: 100%;
        object-fit: contain;
        background-position: center;
      }
      .overlay {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
        background-image: linear-gradient(to top, black, transparent);
      }
      .wrapper {
        position: relative;
        z-index: 10;
        overflow: hidden;
      }
      .firstScreen {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }
      .firstScreen__budgets {
        position: absolute;
        top: 10px;
        left: 10px;
        opacity: 0.5;
        transition: opacity 0.2s;
      }
      .firstScreen__budgets:hover,
      .firstScreen__budgets:focus-within {
        opacity: 1;
      }
      .content {
        margin: 0 auto;
        max-width: 100%;
        width: 640px;
        padding: 32px 16px;
      }
      h1 {
        text-align: center;
        font-family: 'Lora', serif;
      }
      hr {
        border: 0;
        border-bottom: 1px solid var(--divider);
      }
      .btn {
        --size: 36px;
        display: inline-block;
        width: 128px;
        height: var(--size);
        line-height: var(--size);
        text-align: center;
        border: 1px solid var(--divider);
        border-radius: var(--border-radius);
        color: var(--foreground-color);
        transition: background 0.15s;
        text-decoration: none;
        background-color: rgba(255,255,255,0.025);
      }
      .btn:hover,
      .btn:focus {
        background-color: rgba(255,255,255, 0.15);
      }
      .btn:active {
        background-color: rgba(255,255,255, 0.1);
      }
      .btn-block {
        display: flex;
        justify-content: center;
        margin-top: 32px;
      }
    </style>
    <style>
      .progress {
        display: none;
      }
      .progress__line {
        display: flex;
      }
      .progress__line :first-child {
        border-start-start-radius: var(--border-radius);
        border-end-start-radius: var(--border-radius);
      }
      .progress__line :last-child {
        border-end-end-radius: var(--border-radius);
        border-start-end-radius: var(--border-radius);
      }
      .progress__item {
        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        height: 16px;
        font-size: 10px;
        background-color: var(--progress-color-incomplete);
      }
      .progress__item span {
        height: 1em;
        padding-inline: 3px;
      }
      .progress__item--tick1 {
        width: calc((var(--progress-begin-finish) - var(--progress-begin-start)) / var(--progress-total) * 100%);
        background-color: var(--progress-color-ready);
      }
      .progress__item--tick2 {
        flex-grow: 1
      }
      .progress__item--tick3 {
        width: calc((var(--progress-final-finish) - var(--progress-final-start)) / var(--progress-total) * 100%);
        background-color: var(--progress-color-ready);
      }
      .progress__item--tick4 {
        width: calc((var(--progress-total) - var(--progress-final-finish)) / var(--progress-total) * 100%);
      }

      .progress__chapters {
        display: flex;
        align-items: center;
        font-size: 9px;
      }
      @media (max-width: 550px) {
        .progress__chapters {
          display: none;
        }
      }
      .progress__chapter {
        box-sizing: border-box;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-right: 1px solid var(--progress-color-incomplete);
        height: 16px;
      }
      .progress__chapter--ch1 {
        width: calc(214 / var(--progress-total) * 100%);
      }
      .progress__chapter--ch2 {
        width: calc((483 - 214) / var(--progress-total) * 100%);
      }
      .progress__chapter--ch3 {
        width: calc((773 - 483) / var(--progress-total) * 100%);
      }
      .progress__chapter--ch4 {
        width: calc((947 - 773) / var(--progress-total) * 100%);
      }
      .progress__chapter--ch5 {
        width: calc((1151 - 947) / var(--progress-total) * 100%);
      }
      .progress__chapter--ch6 {
        width: calc((1267 - 1151) / var(--progress-total) * 100%);
      }
      .progress__chapter--ch7 {
        width: calc((1354 - 1267) / var(--progress-total) * 100%);
      }
      .progress__chapter--ch8 {
        width: calc((var(--progress-total) - 1354) / var(--progress-total) * 100%);
        border-right: 0;
      }
    </style>
  </head>
  <body>
    <video playsinline autoplay muted loop poster="./assets/poster.webp">
      <source src="./assets/bg.mp4" type="video/mp4" />
      <source src="./assets/bg.webm" type="video/webm" />
    </video>
    <div class="overlay"></div>

    <div class="wrapper">
      <div class="firstScreen">
        <div class="firstScreen__budgets">
          <iframe
            src="https://ghbtns.com/github-btn.html?user=Demetri0&repo=fb2-lord-of-the-mysteries&type=star&count=true&size=small"
            frameborder="0"
            scrolling="0"
            width="170"
            height="30"
            title="GitHub"
          />
          </iframe>
        </div>
        <div class="content">
          <h1>Lord of the Mysteries</h1>
          <p>Данный проект осуществляет редакцию книги Повелитель Тайн на русском языке.</p>

          <hr />

          <p>Я не являюсь ни автором книги, ни автором перевода, все ресурсы получены из открытых источников.
          Этот проект не преследует целей монетизации, а является лишь ресурсом для домашнего ознакомительного чтения.</p>

          <hr>

          <p><strong>Текущий прогресс:</strong> ≈95% (Главы:
            <output id="progress-begin-start">1</output>–<output id="progress-begin-finish">565</output>,
            <output id="progress-final-start">576</output>–<output id="progress-final-finish">1384</output>)</p>

          <div class="progress">
            <div class="progress__line">
              <span class="progress__item progress__item--tick1">
                <span></span>
                <span id="output-progress-begin-finish"></span>
              </span>
              <span class="progress__item progress__item--tick2"></span>
              <span class="progress__item progress__item--tick3">
                <span id="output-progress-final-start"></span>
                <span id="output-progress-final-finish"></span>
              </span>
              <span class="progress__item progress__item--tick4"></span>
            </div>
            <div class="progress__chapters">
              <span class="progress__chapter progress__chapter--ch1">Том 1</span>
              <span class="progress__chapter progress__chapter--ch2">Том 2</span>
              <span class="progress__chapter progress__chapter--ch3">Том 3</span>
              <span class="progress__chapter progress__chapter--ch4">Том 4</span>
              <span class="progress__chapter progress__chapter--ch5">Том 5</span>
              <span class="progress__chapter progress__chapter--ch6">Том 6</span>
              <span class="progress__chapter progress__chapter--ch7">Том 7</span>
              <span class="progress__chapter progress__chapter--ch8">Том 8</span>
            </div>
          </div>

          <p><em>⚠ На данном этапе, далеко не все имена и названия приведены в норму,
          финальная их редакция будет только ближе к концу, на 99%</em></p>

          <div class="btn-block">
            <a class="btn" aria-label="Download fb2 book" href="./Lord Of The Mysteries.fb2">⚠ fb2</a>
          </div>
        </div>

      </div>
      <!-- Other Sections -->
    </div>
    <script>
      (function(){
        const progressBeginStart = document.getElementById('progress-begin-start').textContent;
        document.documentElement.style.setProperty('--progress-begin-start', progressBeginStart);

        const progressBeginFinish = document.getElementById('progress-begin-finish').textContent;
        document.documentElement.style.setProperty('--progress-begin-finish', progressBeginFinish);
        document.getElementById('output-progress-begin-finish').textContent = progressBeginFinish;

        const progressFinalStart = document.getElementById('progress-final-start').textContent;
        document.documentElement.style.setProperty('--progress-final-start', progressFinalStart);
        document.getElementById('output-progress-final-start').textContent = progressFinalStart;

        const progressFinalFinish = document.getElementById('progress-final-finish').textContent;
        document.documentElement.style.setProperty('--progress-final-finish', progressFinalFinish);
        document.getElementById('output-progress-final-finish').textContent = progressFinalFinish;

        document.querySelector('.progress').style.display = 'block';
      })()
    </script>
  </body>
</html>
